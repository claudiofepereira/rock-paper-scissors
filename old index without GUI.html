<script>
    function computerPlay() {
        let randNumber = Math.floor(Math.random() * 3) + 1;
        switch (randNumber) {
            case 1:
                return "Rock";
                break;
            case 2:
                return "Paper";
                break;
            case 3:
                return "Scissors";
                break;
        }
    }

    function convert1stLetterCaps(string) {
        return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();
    }

    function playRound(playerSelection, computerSelection) {
        if (playerSelection != computerSelection) {
            // If player loses
            if (playerSelection == "Rocks" && computerSelection == "Paper" || playerSelection == "Paper" && computerSelection == "Scissors" || playerSelection == "Scissors" && computerSelection == "Rock") {
                return (`You lose! ${computerSelection} beats ${playerSelection}`);
            } else {
                return (`You win! ${playerSelection} beats ${computerSelection}`);
            }
        } else {
            return (`You tied! ${playerSelection} ties with ${computerSelection}`);
        }
    }

    function game() {
        let numGames = 0;
        let playerSelection = "";
        while (numGames < 5) {
            let validInput = false;
            while (!validInput) {
                let playerSelectionTemp = convert1stLetterCaps(prompt("Insert your choice!"));
                if (playerSelectionTemp == "Rock" || playerSelectionTemp == "Paper" || playerSelectionTemp == "Scissor") {
                    playerSelection = playerSelectionTemp;
                    validInput = true;
                    console.log(playerSelection);
                } else {
                    window.alert("Wrong value entered, try Rock, Paper or Scissor.");
                }
            }
            console.log(playerSelection);
            let computerSelection = convert1stLetterCaps(computerPlay());
            console.log(playRound(playerSelection, computerSelection));
            numGames += 1;
        }
        window.alert("Game finished.");
        console.log("Game finished.");
    }

    game();
</script>